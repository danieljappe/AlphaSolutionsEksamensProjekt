<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
  <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0">
  <meta charset="utf-8">
  <link rel="stylesheet" type="text/css" href="css/loginAndRegisterStylesheet.css">
  <link rel="icon" type="image/x-icon" href="../images/wave-favicon.png">
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700;800&display=swap" rel="stylesheet">
</head>
<body id="background-wave">
  <div class="nav-bar">
    <div class="nav-bar-item">
      <a href="./">
        <img src="../images/boardwavelogo.png" alt="logo" style="height: auto; width: 185px; margin-bottom: -12px">
      </a>
    </div>
    <div class="nav-bar-right">
      <div><a style="text-decoration: none; color: #5290e9" class="nav-bar-item" href="/about-page">About</a></div>
      <div><a style="text-decoration: none; color: #5290e9" class="nav-bar-item" href="/contact-page">Contact</a></div>
      <div><a style="text-decoration: none; color: #5290e9" class="nav-bar-item">Log in</a></div>
    </div>
  </div>
<div class="main">
  <div class="container a-container" id="a-container">
    <form id="b-form" class="form" method="post" action="#" th:action="@{/login}" th:object="${userTemplate}">
      <h2 class="form_title title">Sign in to Website</h2>
      <input class="form__input" type="email" th:field="${userTemplate.email}" placeholder="Email">
      <input class="form__input" type="password" th:field="${userTemplate.password}" placeholder="Password">
      <div th:if="${error}">
        <p style="color: red;">Incorrect username or password. Please try again.</p>
      </div>
      <a class="form__link" href="/contact-page">Forgot your password?</a>
      <button type="submit" class="form__button button">SIGN IN</button>
    </form>
  </div>
  <div class="container b-container" id="b-container">
    <form id="a-form" class="form" method="post" action="#" th:action="@{/register-page}" th:object="${userTemplate}">
      <h2 class="form_title title">Create Account</h2>
      <input class="form__input" th:field="${userTemplate.name}" type="text" placeholder="Name">
      <input class="form__input" th:field="${userTemplate.email}" type="text" placeholder="Email">
      <input class="form__input" th:field="${userTemplate.password}" type="password" placeholder="Password">
      <div th:if="${EmailError}">
        <p style="color: red;">Email is already in use. Please use another email or login to an existing account.</p>
      </div><div th:if="${error}">
      <p style="color: red">An error occured. Please contact the developers.</p>
    </div>
      <button class="form__button button" type="submit">SIGN UP</button>
    </form>
  </div>
  <div class="switch" id="switch-cnt">
    <div class="switch__circle"></div>
    <div class="switch__circle switch__circle--t"></div>
    <div class="switch__container" id="switch-c1">
      <h2 class="switch__title title">Hello Friend !</h2>
      <p class="switch__description description">Enter your personal details and start journey with us</p>
      <button class="switch__button button switch-btn">SIGN UP</button>
    </div>
    <div class="switch__container is-hidden" id="switch-c2">
      <h2 class="switch__title title">Welcome Back !</h2>
      <p class="switch__description description">To keep connected with us please login with your personal info</p>
      <button class="switch__button button switch-btn">SIGN IN</button>
    </div>
  </div>
</div>
<script>
  let switchCtn = document.querySelector("#switch-cnt");
  let switchC1 = document.querySelector("#switch-c1");
  let switchC2 = document.querySelector("#switch-c2");
  let switchCircle = document.querySelectorAll(".switch__circle");
  let switchBtn = document.querySelectorAll(".switch-btn");
  let aContainer = document.querySelector("#a-container");
  let bContainer = document.querySelector("#b-container");
  let allButtons = document.querySelectorAll(".submit");

  let getButtons = (e) => e.preventDefault()

  let changeForm = (e) => {

    switchCtn.classList.add("is-gx");
    setTimeout(function(){
      switchCtn.classList.remove("is-gx");
    }, 1500)

    switchCtn.classList.toggle("is-txr");
    switchCircle[0].classList.toggle("is-txr");
    switchCircle[1].classList.toggle("is-txr");

    switchC1.classList.toggle("is-hidden");
    switchC2.classList.toggle("is-hidden");
    aContainer.classList.toggle("is-txl");
    bContainer.classList.toggle("is-txl");
    bContainer.classList.toggle("is-z200");
  }

  let mainF = (e) => {
    for (var i = 0; i < allButtons.length; i++)
      allButtons[i].addEventListener("click", getButtons );
    for (var i = 0; i < switchBtn.length; i++)
      switchBtn[i].addEventListener("click", changeForm)
  }

  window.addEventListener("load", mainF);

</script>
</body>
</html>